graph TD; A((Start))-->B[Sort]-->C[For each p]-->D[Sort by slope]-->E[Find segments]-->F{3+ found?}; F--Yes-->G[Add segment]-->C; F--No-->C; C-->H((End));
